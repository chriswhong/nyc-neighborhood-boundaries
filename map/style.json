{
    "version": 8,
    "name": "NYC Neighborhood Boundaries",
    "center": [
        -74.00775,
        40.70664
    ],
    "zoom": 10.3,
    "terrain": null,
    "imports": [
        {
            "id": "basemap",
            "url": "mapbox://styles/mapbox/standard",
            "config": {
                "theme": "faded",
                "showPlaceLabels": false
            }
        }
    ],
    "sources": {
        "neighborhoods": {
            "type": "geojson",
            "data": "{{neighborhoods_geojson_url}}",
            "promoteId": "slug"
        },
        "centroids": {
            "type": "geojson",
            "data": "{{centroids_geojson_url}}",
            "promoteId": "slug"
        },
        "nyc-subway-routes": {
            "type": "geojson",
            "data": "https://raw.githubusercontent.com/chriswhong/mapboxgl-nyc-subway/refs/heads/master/data/nyc-subway-routes.geojson",
            "minzoom": 13
        }
    },
    "sprite": "mapbox://sprites/chriswhongmapbox/cmex1c2ou003i01se0k2gcq51/b8fjw435hx85pp7j172f016pl",
    "glyphs": "mapbox://fonts/mapbox/{fontstack}/{range}.pbf",
    "projection": {
        "name": "globe"
    },
    "layers": [
        {
            "id": "neighborhoods-fill",
            "type": "fill",
            "source": "neighborhoods",
            "paint": {
                "fill-color": [
                    "case",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        0
                    ],
                    "#e5c494",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        1
                    ],
                    "#fc8d62",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        2
                    ],
                    "#8da0cb",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        3
                    ],
                    "#e78ac3",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        4
                    ],
                    "#66c2a5",
                    "#ccc"
                ],
                "fill-opacity": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    8,
                    [
                        "case",
                        [
                            "boolean",
                            [
                                "feature-state",
                                "active"
                            ],
                            false
                        ],
                        1,
                        0.7
                    ],
                    14,
                    [
                        "case",
                        [
                            "boolean",
                            [
                                "feature-state",
                                "active"
                            ],
                            false
                        ],
                        0.8,
                        0.5
                    ]
                ]
            },
            "slot": "bottom"
        },
        {
            "id": "neighborhoods-stroke",
            "type": "line",
            "source": "neighborhoods",
            "paint": {
                "line-color": "#666",
                "line-width": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    9,
                    [
                        "case",
                        [
                            "any",
                            [
                                "boolean",
                                [
                                    "feature-state",
                                    "hover"
                                ],
                                false
                            ],
                            [
                                "boolean",
                                [
                                    "feature-state",
                                    "selected"
                                ],
                                false
                            ]
                        ],
                        0.5,
                        0.2
                    ],
                    14,
                    [
                        "case",
                        [
                            "any",
                            [
                                "boolean",
                                [
                                    "feature-state",
                                    "hover"
                                ],
                                false
                            ],
                            [
                                "boolean",
                                [
                                    "feature-state",
                                    "selected"
                                ],
                                false
                            ]
                        ],
                        7,
                        3
                    ]
                ],
                "line-occlusion-opacity": 1
            }
        },
        {
            "id": "neighborhoods-stroke-selected",
            "type": "line",
            "source": "neighborhoods",
            "paint": {
                "line-color": "#a61440",
                "line-width": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    9,
                    0.6,
                    14,
                    9
                ],
                "line-dasharray": [
                    2,
                    1
                ]
            },
            "filter": ["==", ["id"], ""]
        },
        {
            "id": "neighborhoods-border-labels",
            "type": "symbol",
            "source": "neighborhoods",
            "minzoom": 14,
            "maxzoom": 22,
            "layout": {
                "symbol-placement": "line",
                "text-field": [
                    "upcase",
                    [
                        "get",
                        "name"
                    ]
                ],
                "text-font": [
                    "DIN Pro Medium"
                ],
                "text-size": 14,
                "text-letter-spacing": 0.2,
                "text-rotation-alignment": "map",
                "text-pitch-alignment": "viewport",
                "text-max-angle": 30,
                "text-offset": [
                    0,
                    1.5
                ],
                "symbol-spacing": 400,
                "text-repeat-distance": 300
            },
            "paint": {
                "text-color": "#444444",
                "text-halo-color": [
                    "case",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        0
                    ],
                    "#e5c494",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        1
                    ],
                    "#fc8d62",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        2
                    ],
                    "#8da0cb",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        3
                    ],
                    "#e78ac3",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        4
                    ],
                    "#66c2a5",
                    "#ccc"
                ],
                "text-halo-width": 2,
                "text-halo-blur": 1
            }
        },
        {
            "id": "neighborhoods-labels",
            "type": "symbol",
            "source": "centroids",
            "minzoom": 2,
            "maxzoom": 18,
            "layout": {
                "text-line-height": 1.1,
                "text-size": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    10,
                    8,
                    12,
                    15,
                    18,
                    35
                ],
                "text-field": [
                    "upcase",
                    [
                        "get",
                        "name"
                    ]
                ],
                "text-radial-offset": 8,
                "text-font": [
                    "DIN Pro Medium"
                ],
                "text-anchor": "center",
                "text-max-width": 7
            },
            "paint": {
                "text-color": "#666666",
                "text-halo-color": [
                    "case",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        0
                    ],
                    "#e5c494",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        1
                    ],
                    "#fc8d62",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        2
                    ],
                    "#8da0cb",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        3
                    ],
                    "#e78ac3",
                    [
                        "==",
                        [
                            "get",
                            "color"
                        ],
                        4
                    ],
                    "#66c2a5",
                    "#ccc"
                ],
                "text-halo-width": 1,
                "text-halo-blur": 1
            }
        },
        {
            "id": "subway_green",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "4"
                ]
            ],
            "paint": {
                "line-color": "rgba(0, 147, 60, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_yellow",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "N"
                ]
            ],
            "paint": {
                "line-color": "rgba(252, 204, 10, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_gray",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "L"
                ]
            ],
            "paint": {
                "line-color": "rgba(167, 169, 172, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_brown",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "J"
                ]
            ],
            "paint": {
                "line-color": "rgba(153, 102, 51, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_light_green",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "G"
                ]
            ],
            "paint": {
                "line-color": "rgba(108, 190, 69, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_orange",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "B"
                ]
            ],
            "paint": {
                "line-color": "rgba(255, 99, 25, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_blue",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "any",
                [
                    "==",
                    "rt_symbol",
                    "A"
                ],
                [
                    "==",
                    "rt_symbol",
                    "SI"
                ]
            ],
            "paint": {
                "line-color": "rgba(0, 57, 166, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_purple",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "7"
                ]
            ],
            "paint": {
                "line-color": "rgba(185, 51, 173, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        },
        {
            "id": "subway_red",
            "source": "nyc-subway-routes",
            "type": "line",
            "filter": [
                "all",
                [
                    "==",
                    "rt_symbol",
                    "1"
                ]
            ],
            "paint": {
                "line-color": "rgba(238, 53, 46, 1)",
                "line-width": {
                    "stops": [
                        [
                            10,
                            1
                        ],
                        [
                            15,
                            4
                        ]
                    ]
                },
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    13,
                    0,
                    13.3,
                    1
                ]
            },
            "slot": "middle"
        }
    ]
}